# サイトを実装してみよう

この章では、企画書を元にラブライブ！募集サイトの HTML + CSS + JavaScript 実装をしていきます。

その前に必要なツールを準備します。最低限必要なものを列挙していくと以下のものがあります。

- ソースコードを記すためのエディタもしくは IDE
- 表示確認用のブラウザ
- 作業履歴を記録するためのバージョン管理ソフト
- 書いたソースコードに対して細かな作業をやるためのツール

一つずつ解説していきます。

### エディタ、IDE

ソースコードを書くために、まずはエディタや IDE (統合開発環境)の準備から始めます。

エディタは Atom や Sublime Text がよく使われています。

IDE は WebStorm や NetBeans がよく使われています。また Windows であれば Visual Studio Community Edition がおすすめの IDE です。

### ブラウザ

次に、表示確認するためのブラウザを準備します。Windows や OS X では以下のブラウザが初期状態でインストールされています。

- Windows
    - Edge, Internet Explorer
- OS X
    - Safari

しかし、上記ブラウザだけではなく、複数ブラウザで確認する必要があります。

他にインストールしておいたほうが良いブラウザは Google Chrome や Mozilla Firefox となります。できれば、開発版をインストールしておくと、事前に次期バージョンでハマりそうな点が分かるためおすすめです。

### Git と GitHub

作業履歴を適切に残すことで、いざという時、かなり前の作業履歴まで遡ってしまうことが少なくなります。そのためのバージョン管理ソフトとして、Git と GitHub を使います。

Git は SourceTree をダウンロードして使うのが良いでしょう。もし Git についてあまり知らない場合は、拙著の Steins;Git を読んでみてください。

### 各種ツール

**ターミナル**

OS X は最初からターミナルがインストールされています。Windows は PowerShell と MinGW を組み合わせるのが良いかもしれません。

Windows の開発環境構築に役立つリンクを書いておきます。

1. [Windows - 開発者が SurfacePro3 を買ったらまずやること - Qiita](http://qiita.com/tanakh/items/a1b4705fb58ef3c89800)
1. [最近の Windows の開発環境のセットアップ - 純粋関数空間](http://tanakh.jp/posts/2013-05-23-windows-setup.html)

ターミナルは「黒い画面」と呼ばれることがあり、恐れられている存在かもしれません。しかし、以下に紹介する記事を見ていただければ、触りにくさは多少軽減されると思います。

1. [Terminal - デザイン系フロントエンドエンジニアが「黒い画面」を使ってて良かったこと。 - Qiita](http://qiita.com/tokimari/items/43b89c832812ea2bd93f)
1. [Web デザイナの為の「本当は怖くない」”黒い画面”入門 Part.01 « 合同会社フィヨルド](http://fjord.jp/love/548.html)

**Node.js**

次に紹介する Gulp を使うため、必要になります。公式サイトからダウンロードしてインストールするのが良いでしょう。

**Gulp**

また、実際にソースコードを書いていく上で、以下のことも求められます。

- 書いたソースコードが正しいか確認(構文チェック)
- 権利を明確化するため、ライセンス情報を書く
- サイトの表示高速化のためにソースコードを圧縮(minify)

このようなことを手動でおこなうこともできます。しかし、大変骨が折れる作業です。

そこで、上記に挙げた作業の自動化ができる Gulp というツールを使います。

**Web Starter Kit**

しかし、Gulp を自分で一から設定するのは、割と骨が折れる作業になります。

そこで Google が公開している [Web Starter Kit](https://developers.google.com/web/tools/starter-kit/) を使いましょう。

使い方や開発方法などは、以下のサイトを参考にしてください。

- [Google のベストプラクティスに沿ったモダンな製作の出発点「 Web Starter Kit 」 | HTML5Experts.jp](https://html5experts.jp/nakajmg/8931/)

## 分からないことがあった時には？

サイトの実装で分からないことがよく出てきます。そういった際、どのように解決するかを書きます。

### ググる

まずはググります。ググる方法にも結果が出やすい手法はあります。

#### ググるための言葉を区切る

例えば `CSS で背景色をつけるやり方` と検索するより `CSS 背景色 やり方` で検索するほうが、検索結果の件数は増えます。

検索エンジンは `CSS で背景色をつけるやり方` のような文章が苦手です。そのため、文章よりも単語ごとに区切ったほうが検索結果の件数は増えます。

#### 「何々 とは」で検索する

より入門的な内容を探したい場合 `何々 とは` で検索するのが良いです。例えば `JavaScript とは` といった感じです。

入門的な記事はタイトルを上記のように書く傾向があります。そのため、入門よりの記事が見つかります。

#### エラーメッセージをそのまま検索する

コマンド実行して上手くいかなかった際に表示されるエラーメッセージを検索すると、解決方法が出やすくなります。

しかし、だいたい英語 (そしてほとんど Stack Overflow というサイト) なので、そこは頑張って内容を読み取るしかないです。

#### 期間を絞る

JavaScript 情報は、2011 年以前の情報があまり役に立ちません。

そこで Google の `検索ツール` 内にある `期間指定` を使って、なるべく新しい情報のみ検索します。

ただし、初期状態では、期間設定の使い勝手があまり良くないです。具体的には、期間設定が `一ヶ月` の後、`一年` となってしまうため細かく期間設定できません。

これに関しては [Add Search Options](https://chrome.google.com/webstore/detail/add-search-options/kaifgnoibnjldmdkkfogenbfbfgcbiao?hl=ja) という Google Chrome 拡張機能を使えば、期間指定に `三ヶ月以内` と `六ヶ月以内` が使えます。

### 周りの人に聞く

検索をしても、あまり良い情報に巡りあえない場合があります。そういった場合、周りに聞ける環境であれば聞くのが良いでしょう。

聞き方としてはおそらく解答にかかるであろう時間を予測して「『何々』について聞きたいのですが、○分ほど時間ありますか？」と聞くのが良いでしょう。

### 本を読む

読書することで知識を貯めておくというのも重要です。ただし、すぐに解答を得る目的では使えません。

上から順に読めば、JavaScript による機能実装がある程度できるようになります。

1. [ノンプログラマのための JavaScript はじめの一歩](http://amzn.to/1I8kjCe)
1. [開眼! JavaScript ―言語仕様から学ぶ JavaScript の本質](http://amzn.to/1CL5dCa)
1. [JavaScript パターン ―優れたアプリケーションのための作法](http://amzn.to/1LetyDz)
1. [Effective JavaScript](http://amzn.to/1Max5SF)

ここまでは、実装に必要なツールや心構えを書いてきました。これからは、実装にあたっての注意点を書いていきます。

## 注意する点

実装の際、いくつか注意点があります。それをここでは書いていきます。

### ライセンス

まず始めに、ソースコードのライセンスについてです。GitHub 上にあるライブラリはだいたいライセンス情報を書いたファイルが置かれています。そのライセンスファイルが置かれていないライブラリは、使わないようにします。

理由は、今後どんなライセンスが適用されるか分からないという理由です。また作者が、再利用されたくないという意志の元、ライセンスファイルを置いていない可能性もあります。

なお、ライセンスファイルが置いてある場合でも、GPL ライセンスの場合は注意します。理由は、ライブラリに独自の改変を加えた際、GPL ライセンスでソースコード公開が必要なためです。

MIT ライセンスや修正 BSD ライセンスについては、作者の名前を書いておけば問題ありません。

### 著作権

また、サイト上で使う画像についても注意が必要です。

[著作権法 第三十条](http://law.e-gov.go.jp/htmldata/S45/S45HO048.html#1000000000002000000003000000005000000000000000000000000000000000000000000000000)には、以下のような記述があります。

> 著作権の目的となつている著作物（以下この款において単に「著作物」という。）は、個人的に又は家庭内その他これに準ずる限られた範囲内において使用すること（以下「私的使用」という。）を目的とするときは、次に掲げる場合を除き、その使用する者が複製することができる。

例えば PC の壁紙で、著作権情報が載っている画像を使ったとしてもそれは問題になりません。私的利用の範囲になるためです。

しかし、インターネット上などで公開するために使った場合、[著作権法　第二十三条](http://law.e-gov.go.jp/htmldata/S45/S45HO048.html#1000000000002000000003000000003000000000000000000000000000000000000000000000000)の公衆送信権を侵害します。

また、イラストをトレースし、自分流に編集して公開する場合も問題となる場合があります。

このあたりは、以下の記事を見ると良いでしょう。

> [大人気ゲーム「刀剣乱舞」に「トレパク」疑惑が続々浮上――どんな問題があるのか？|弁護士ドットコムニュース](http://www.bengo4.com/houmu/17/1263/n_3282/)

### イラストや素材を自作できない場合どうしたら良いか？

とはいえ、イラストや素材を自作できない場合、サイトが殺風景な見た目になりがちです。その場合、写真素材サイトを使うことで解決できることがあります。

商用利用可かつ、クレジット表記が不要という写真素材サイトは多くあります。有名なサイトとして、[ぱくたそ](https://www.pakutaso.com/)があります。

女性向けの写真素材サイトとしては、[GIRLY DROP(ガーリードロップ)](http://girlydrop.com/) というサイトがあります。

また「商用利用可かつ、クレジット表記が不要」と謳っているサイトを横断的に検索できる[タダピク](http://www.tadapic.com/)というサイトもあります。

写真素材サイトを使うことで、高品質な写真が使えます。ただし使う際は、各写真素材サイトの注意項目を読んだ上で、それに沿って使う必要があります。

## ライブラリ選定

ここからはライブラリの選定をおこなっていきます。ここでは、自分がライブラリを選ぶ時の基準について書いていきます。

### 利用実績

はじめに、そのライブラリが広く使われているかを見ます。

例えば [Bootstrap](http://getbootstrap.com/) だと、ページ下部に Bootstrap を使ったサイト一覧が掲載されています。

また [jQuery](http://jquery.com/) というライブラリは、[Amazon 上で jQuery で検索](http://www.amazon.co.jp/s/field-keywords=jquery)してみると、関連の本が大量に表示されます。

このように、利用実績やライブラリについて本が書かれているかということをまずは見ます。

### Issue と Pull Request そして最新コミット日時

先ほどの利用実績で挙げた例は、公開されてからある程度時間が経過し、広く使われるようになったライブラリのみ使える判断材料です。

つまり、定番と言われるライブラリに対してしか、判断材料として使えないということです。

では、他の判断基準はなんでしょうか？それは GitHub 上にある Issue や Pull Request の件数と最新コミット日時です。

最新コミット日がたとえば6ヶ月前だった場合、Issue や Pull Request の多さは「放置されているから」ということになります。

### ソースコードが把握しやすい

ソースコードの把握がしやすいか見ます。全体把握しやすいライブラリとしては、例えば [Backbone.js](http://backbonejs.org/) が挙げられます。

[ソースコード](https://github.com/jashkenas/backbone/blob/master/backbone.js)はまとまりの単位が小さいため、処理を追いやすいです。

また、ソースコードの行数も 1,877行 (2015/7/10 現在) なので、全体を読もうと思えば読めます。

### ドキュメントが揃っている

ドキュメントがあって、かつ、読みやすいか見ます。もちろん両方揃っているのが好ましいです。

両方揃っている例としては [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) が挙げられます。

flipsnap.js はドキュメントに以下の項目がよくまとまっています。そのため、使い方に困らないライブラリとなっています。

- どういった環境に対応しているか
- どのようにすれば動作するようになるか
- 使い方の例

また[ソースコード自体](https://github.com/hokaccha/js-flipsnap/blob/master/flipsnap.js)も、まとまりの単位が小さく、読みやすいものとなっています。

ここまで、ライブラリ選定時の基準について書いてきました。ここからは実際にライブラリ選定をしていきます。

## ライブラリの選定 CSS 編

[Bootstrap](https://github.com/twbs/bootstrap) を使います。

Bootstrap は多くのサイトで使われています。理由としては、以下に挙げるものがあると思います。

- HTML に少し書き足して bootstrap.css を読みこめば、素の HTML と比較した場合ずっと良い見た目になるため
- [グリッド機能](http://getbootstrap.com/css/#grid)が使いやすい
- ブラウザのデフォルト CSS をいい感じに丸め込んでくれる [Normalize.css](http://necolas.github.io/normalize.css/) が使える

特に、狭いウィンドウ幅のことも考えて実装するというのが地味に面倒です。Bootstrap のグリッド機能を使うことで、面倒なことは考えなくてよくなります。

## ライブラリの選定 JavaScript 編

今回 JavaScript 側で実装する機能として「カルーセル」があります。

「カルーセル」は [Nike](http://www.nike.com/jp/ja_jp/) などで使われている「注目させたい複数の画像を次々と横にスライド表示する」ものです。

このカルーセルを実現するためのライブラリは、[lory](http://meandmax.github.io/lory/) にします。この lory というライブラリを選んだ理由は以下の通りです。

- 外部のライブラリに依存せず、lory だけを読みこめばカルーセルの実装をおこなえる
- ライブラリのソースコードの全体が把握しやすい ([2015/7/10 現在で 520 行](https://github.com/meandmax/lory/blob/73244bb780e0214d7c4b446d27295a80c6872bd0/dist/lory.js))

次々と横にスライド表示する際、最後まで到達した時はまた最初へ戻る、無限ループがいらなければ [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) もおすすめです。

また jQuery に依存するライブラリでは [slick](http://kenwheeler.github.io/slick/) や [Owl Carousel](http://owlgraphic.com/owlcarousel/) がよく使われます。

これで、ライブラリの選定が終わりました。次章からはサイトの実装をしていきます。
