# サイト開発の準備

この章では、ラブライブ募集サイトの実装にあたって、どんなことを事前に準備していけばいいかを書いていきます。

## 必要なツールの準備

はじめに、ラブライブ募集サイトの実装で必要なツールを準備します。
最低限必要なものを列挙していくと以下のものがあります。

- ソースコードを書くためのエディターもしくはIDE
- 表示確認用のブラウザー
- 作業履歴を記録するためのバージョン管理ソフト

これらについて、1つずつ説明していきます。

### エディターやIDE

1つめに必要なものとして、ソースコードを書くためにエディターやIDE（統合開発環境）を用意します。
エディターはAtomやSublime Textがよく使われています。

IDEはWebStormやNetBeansがよく使われています。
またWindowsであればVisual Studio Community EditionがおすすめのIDEです。

### ブラウザー

2つめとして、作ったサイトの表示確認用にブラウザーを用意します。
WindowsやOS Xには次のブラウザーが最初からインストールされています。

しかし、これらのブラウザーだけではなく、複数ブラウザーで表示を確認する必要があります。
他にインストールしておいたほうが良いブラウザーはGoogle ChromeやMozilla Firefoxがあります。
できれば、開発版をインストールしておくと、事前に次期バージョンでハマりそうな点が分かるのでおすすめです。

- Windows
  - Edge、Internet Explorer
- OS X
  - Safari

### GitとGitHub

3つめとして、作業履歴を管理するためにGitとGitHubを用意します。
たとえば突然PCがブルースクリーンになってしまい、予期しないシャットダウンをしなければいけなくなったとします。

そのとき、適切に作業履歴を残すことで、かなり前の作業まで遡ってしまうことが少なくなります。
GitはSourceTreeをダウンロードして使うのが良いでしょう。もしGitについてあまり知らない場合は、拙著のSteins;Gitを読んでみてください。

## 分からないことがあった時には？

サイトの実装をしていくうちに、分からないところが出てくる場合もあります。
そういった際、どのように解決するかを書きます。

### 検索する

まずは検索します。検索する方法にも結果が出やすい手法はいくつかあります。

まず1つめに、たとえば`CSSで背景色をつけるやり方`と検索するより、`CSS 背景色 やり方`で検索するほうが検索結果の件数は増えます。
検索エンジンは`CSSで背景色をつけるやり方`のような文章が苦手です。
そのため、文章よりも単語ごとに区切ったほうが検索結果の件数は増えます。

2つめに、より入門的な内容を探したい場合、`なになに とは`で検索するのが良いです。
理由は、入門的な記事のタイトルが`なになに とは`と書く傾向にあるためです。
たとえばJavaScriptの初心者向け記事を探したい場合は`JavaScript とは`といった感じで検索します。

3つめに、JavaScriptでエラーメッセージが出力された場合、エラーメッセージをそのまま検索することです。
エラーメッセージをそのまま検索することで、解決方法が出てきやすいです。
しかし、だいたい英語（そしてほとんどStack Overflowというサイト）なので、そこは頑張って内容を読み取るしかないです。

4つめに、Googleの`検索ツール`内にある`期間指定`を使って、なるべく新しい情報のみ検索します。
CSSやJavaScriptは、2011年以前の情報があまり役に立ちません。そのため、期間を絞ることで新しい情報にたどりつきやすくします。

しかし、初期状態では期間設定の使い勝手があまりよくありません。具体的には、期間設定が`1ヶ月`の後は`1年`となってしまうため、たとえば`3ヶ月以内`などは指定できません。
これに関しては[Add Search Options](https://chrome.google.com/webstore/detail/add-search-options/kaifgnoibnjldmdkkfogenbfbfgcbiao?hl=ja)というGoogle Chrome拡張機能を使います。
この拡張機能を使うことにより、期間指定に`3ヶ月以内`と`6ヶ月以内`が増えます。

### 周りの人に聞く

検索をしても、あまりいい情報に巡りあえない場合があります。そういった場合、周りに聞ける環境であれば聞くのがいいです。
聞き方としてはおそらく解答にかかるであろう時間を予測して、「『なになに』について聞きたいのですが、○分ほど時間はありますか」と聞くのがいいです。

## ライブラリ選定

ここまで、開発に必要なツールや開発の際に分からないことがあったときの対処法を書きました。
ここからは、ライブラリの選定をおこなっていきます。

### ライブラリとは

その前に、ライブラリという聞き慣れない単語が出て「??」となった人もいるかもしれません。
なので、ライブラリについて説明します。

ライブラリとは、汎用性が高いプログラムを、他のプログラムからも使えるようにひとまとまりとしたものです。
たとえば、CSSであればBootstrapやFoundation、JavaScriptでいえばjQueryなどがライブラリです。
いまあなたが見ているこの文章も、自動的に日本語の文章をチェックする[textlint](https://github.com/textlint/textlint)というライブラリを使い、自動校正しながら書いています。

### ライブラリを選ぶ基準

ここでは、自分がライブラリを選ぶ時の基準について書いていきます。

#### 利用実績

はじめに、そのライブラリが広く使われているかを見ます。
例えば [Bootstrap](http://getbootstrap.com/) だと、ページ下部に Bootstrap を使ったサイト一覧が掲載されています。
また [jQuery](http://jquery.com/) というライブラリは、[Amazon 上で jQuery で検索](http://www.amazon.co.jp/s/field-keywords=jquery)してみると、関連の本が大量に表示されます。
このように、利用実績やライブラリについて本が書かれているかということをまずは見ます。

#### Issue と Pull Request そして最新コミット日時

先ほどの利用実績で挙げた例は、公開されてからある程度時間が経過し、広く使われるようになったライブラリのみ使える判断材料です。
つまり、定番と言われるライブラリに対してしか、判断材料として使えないということです。

では、他の判断基準はなんでしょうか？それは GitHub 上にある Issue や Pull Request の件数と最新コミット日時です。
最新コミット日がたとえば6ヶ月前だった場合、Issue や Pull Request の多さは「放置されているから」ということになります。

#### ソースコードが把握しやすい

ソースコードの把握がしやすいか見ます。全体把握しやすいライブラリとしては、例えば [Backbone.js](http://backbonejs.org/) が挙げられます。
[ソースコード](https://github.com/jashkenas/backbone/blob/master/backbone.js)はまとまりの単位が小さいため、処理を追いやすいです。
また、ソースコードの行数も 1,877行 (2015/7/10 現在) なので、全体を読もうと思えば読めます。

#### ドキュメントが揃っている

ドキュメントがあって、かつ、読みやすいか見ます。もちろん両方揃っているのが好ましいです。
両方揃っている例としては [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) が挙げられます。
flipsnap.js はドキュメントに以下の項目がよくまとまっています。そのため、使い方に困らないライブラリとなっています。

- どういった環境に対応しているか
- どのようにすれば動作するようになるか
- 使い方の例

また[ソースコード自体](https://github.com/hokaccha/js-flipsnap/blob/master/flipsnap.js)も、まとまりの単位が小さく、読みやすいものとなっています。

### ライブラリの選定 CSS 編

ここまで、ライブラリ選定時の基準について書いてきました。ここからは実際にライブラリ選定をしていきます。

CSSのライブラリとしては[Bootstrap](https://github.com/twbs/bootstrap) を使います。
Bootstrap は多くのサイトで使われています。理由としては、以下に挙げるものがあると思います。

- HTML に少し書き足して bootstrap.css を読みこめば、素の HTML と比較した場合ずっと良い見た目になるため
- [グリッド機能](http://getbootstrap.com/css/#grid)が使いやすい
- ブラウザーのデフォルト CSS をいい感じに丸め込んでくれる [Normalize.css](http://necolas.github.io/normalize.css/) が使える

特に、狭いウィンドウ幅のことも考えて実装するというのが地味に面倒です。Bootstrap のグリッド機能を使うことで、面倒なことは考えなくてよくなります。

### ライブラリの選定 JavaScript 編

今回 JavaScript 側で実装する機能として「カルーセル」があります。

「カルーセル」は [Nike](http://www.nike.com/jp/ja_jp/) などで使われている「注目させたい複数の画像を次々と横にスライド表示する」ものです。
このカルーセルを実現するためのライブラリは、[lory](http://meandmax.github.io/lory/) にします。この lory というライブラリを選んだ理由は以下の通りです。

- 外部のライブラリに依存せず、lory だけを読みこめばカルーセルの実装をおこなえる
- ライブラリのソースコードの全体が把握しやすい ([2015/7/10 現在で 520 行](https://github.com/meandmax/lory/blob/73244bb780e0214d7c4b446d27295a80c6872bd0/dist/lory.js))

次々と横にスライド表示する際、最後まで到達した時はまた最初へ戻る、無限ループがいらなければ [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) もおすすめです。
また jQuery に依存するライブラリでは [slick](http://kenwheeler.github.io/slick/) や [Owl Carousel](http://owlgraphic.com/owlcarousel/) がよく使われます。

これで、ライブラリの選定が終わりました。次章からはサイトの実装をしていきます。
