# サイトを実装してみよう

この章では、ラブライブ！募集サイトの実装に必要なツールを準備します。
最低限必要なものを列挙していくと以下のものがあります。

- ソースコードを記すためのエディタもしくは IDE
- 表示確認用のブラウザ
- 作業履歴を記録するためのバージョン管理ソフト

一つずつ解説していきます。

### エディタ、IDE

ソースコードを書くために、まずはエディタや IDE (統合開発環境)の準備から始めます。
エディタは Atom や Sublime Text がよく使われています。
IDE は WebStorm や NetBeans がよく使われています。また Windows であれば Visual Studio Community Edition がおすすめの IDE です。

### ブラウザ

次に、表示確認するためのブラウザを準備します。Windows や OS X では以下のブラウザが初期状態でインストールされています。

2つめとして、作ったサイトの表示確認用にブラウザーを用意します。
WindowsやOS Xには次のブラウザーが最初からインストールされています。

しかし、これらのブラウザーだけではなく、複数ブラウザーで表示を確認する必要があります。
他にインストールしておいたほうが良いブラウザーはGoogle ChromeやMozilla Firefoxがあります。
できれば、開発版をインストールしておくと、事前に次期バージョンでハマりそうな点が分かるのでおすすめです。

- Windows
  - Edge、Internet Explorer
- OS X
  - Safari

## GitとGitHub

3つめとして、作業履歴を管理するためにGitとGitHubを用意します。
たとえば突然PCがブルースクリーンになってしまい、予期しないシャットダウンをしなければいけなくなったとします。

そのとき、適切に作業履歴を残すことで、かなり前の作業まで遡ってしまうことが少なくなります。
GitはSourceTreeをダウンロードして使うのが良いでしょう。もしGitについてあまり知らない場合は、拙著のSteins;Gitを読んでみてください。

## 分からないことがあった時には？

サイトの実装で分からないことがよく出てきます。そういった際、どのように解決するかを書きます。

### ググる

まずはググります。ググる方法にも結果が出やすい手法はあります。

#### ググるための言葉を区切る

例えば `CSS で背景色をつけるやり方` と検索するより `CSS 背景色 やり方` で検索するほうが、検索結果の件数は増えます。
検索エンジンは `CSS で背景色をつけるやり方` のような文章が苦手です。そのため、文章よりも単語ごとに区切ったほうが検索結果の件数は増えます。

#### 「何々 とは」で検索する

より入門的な内容を探したい場合 `何々 とは` で検索するのが良いです。例えば `JavaScript とは` といった感じです。
入門的な記事はタイトルを上記のように書く傾向があります。そのため、入門よりの記事が見つかります。

#### エラーメッセージをそのまま検索する

コマンド実行して上手くいかなかった際に表示されるエラーメッセージを検索すると、解決方法が出やすくなります。
しかし、だいたい英語 (そしてほとんど Stack Overflow というサイト) なので、そこは頑張って内容を読み取るしかないです。

#### 期間を絞る

JavaScript 情報は、2011 年以前の情報があまり役に立ちません。
そこで Google の `検索ツール` 内にある `期間指定` を使って、なるべく新しい情報のみ検索します。
ただし、初期状態では、期間設定の使い勝手があまり良くないです。具体的には、期間設定が `一ヶ月` の後、`一年` となってしまうため細かく期間設定できません。
これに関しては [Add Search Options](https://chrome.google.com/webstore/detail/add-search-options/kaifgnoibnjldmdkkfogenbfbfgcbiao?hl=ja) という Google Chrome 拡張機能を使えば、期間指定に `三ヶ月以内` と `六ヶ月以内` が使えます。

### 周りの人に聞く

検索をしても、あまり良い情報に巡りあえない場合があります。そういった場合、周りに聞ける環境であれば聞くのが良いでしょう。
聞き方としてはおそらく解答にかかるであろう時間を予測して「『何々』について聞きたいのですが、○分ほど時間ありますか？」と聞くのが良いでしょう。

### 本を読む

読書することで知識を貯めておくというのも重要です。ただし、すぐに解答を得る目的では使えません。
上から順に読めば、JavaScript による機能実装がある程度できるようになります。

1. [ノンプログラマのための JavaScript はじめの一歩](http://amzn.to/1I8kjCe)
1. [開眼! JavaScript ―言語仕様から学ぶ JavaScript の本質](http://amzn.to/1CL5dCa)
1. [JavaScript パターン ―優れたアプリケーションのための作法](http://amzn.to/1LetyDz)
1. [Effective JavaScript](http://amzn.to/1Max5SF)

ここまでは、実装に必要なツールや心構えを書いてきました。これからは、実装にあたっての注意点を書いていきます。

## ライブラリ選定

ここからはライブラリの選定をおこなっていきます。ここでは、自分がライブラリを選ぶ時の基準について書いていきます。

### 利用実績

はじめに、そのライブラリが広く使われているかを見ます。
例えば [Bootstrap](http://getbootstrap.com/) だと、ページ下部に Bootstrap を使ったサイト一覧が掲載されています。
また [jQuery](http://jquery.com/) というライブラリは、[Amazon 上で jQuery で検索](http://www.amazon.co.jp/s/field-keywords=jquery)してみると、関連の本が大量に表示されます。
このように、利用実績やライブラリについて本が書かれているかということをまずは見ます。

### Issue と Pull Request そして最新コミット日時

先ほどの利用実績で挙げた例は、公開されてからある程度時間が経過し、広く使われるようになったライブラリのみ使える判断材料です。
つまり、定番と言われるライブラリに対してしか、判断材料として使えないということです。

では、他の判断基準はなんでしょうか？それは GitHub 上にある Issue や Pull Request の件数と最新コミット日時です。
最新コミット日がたとえば6ヶ月前だった場合、Issue や Pull Request の多さは「放置されているから」ということになります。

### ソースコードが把握しやすい

ソースコードの把握がしやすいか見ます。全体把握しやすいライブラリとしては、例えば [Backbone.js](http://backbonejs.org/) が挙げられます。
[ソースコード](https://github.com/jashkenas/backbone/blob/master/backbone.js)はまとまりの単位が小さいため、処理を追いやすいです。
また、ソースコードの行数も 1,877行 (2015/7/10 現在) なので、全体を読もうと思えば読めます。

### ドキュメントが揃っている

ドキュメントがあって、かつ、読みやすいか見ます。もちろん両方揃っているのが好ましいです。
両方揃っている例としては [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) が挙げられます。
flipsnap.js はドキュメントに以下の項目がよくまとまっています。そのため、使い方に困らないライブラリとなっています。

- どういった環境に対応しているか
- どのようにすれば動作するようになるか
- 使い方の例

また[ソースコード自体](https://github.com/hokaccha/js-flipsnap/blob/master/flipsnap.js)も、まとまりの単位が小さく、読みやすいものとなっています。

## ライブラリの選定 CSS 編

ここまで、ライブラリ選定時の基準について書いてきました。ここからは実際にライブラリ選定をしていきます。

CSSのライブラリとしては[Bootstrap](https://github.com/twbs/bootstrap) を使います。
Bootstrap は多くのサイトで使われています。理由としては、以下に挙げるものがあると思います。

- HTML に少し書き足して bootstrap.css を読みこめば、素の HTML と比較した場合ずっと良い見た目になるため
- [グリッド機能](http://getbootstrap.com/css/#grid)が使いやすい
- ブラウザのデフォルト CSS をいい感じに丸め込んでくれる [Normalize.css](http://necolas.github.io/normalize.css/) が使える

特に、狭いウィンドウ幅のことも考えて実装するというのが地味に面倒です。Bootstrap のグリッド機能を使うことで、面倒なことは考えなくてよくなります。

## ライブラリの選定 JavaScript 編

今回 JavaScript 側で実装する機能として「カルーセル」があります。

「カルーセル」は [Nike](http://www.nike.com/jp/ja_jp/) などで使われている「注目させたい複数の画像を次々と横にスライド表示する」ものです。
このカルーセルを実現するためのライブラリは、[lory](http://meandmax.github.io/lory/) にします。この lory というライブラリを選んだ理由は以下の通りです。

- 外部のライブラリに依存せず、lory だけを読みこめばカルーセルの実装をおこなえる
- ライブラリのソースコードの全体が把握しやすい ([2015/7/10 現在で 520 行](https://github.com/meandmax/lory/blob/73244bb780e0214d7c4b446d27295a80c6872bd0/dist/lory.js))

次々と横にスライド表示する際、最後まで到達した時はまた最初へ戻る、無限ループがいらなければ [flipsnap.js](http://hokaccha.github.io/js-flipsnap/) もおすすめです。
また jQuery に依存するライブラリでは [slick](http://kenwheeler.github.io/slick/) や [Owl Carousel](http://owlgraphic.com/owlcarousel/) がよく使われます。

これで、ライブラリの選定が終わりました。次章からはサイトの実装をしていきます。
